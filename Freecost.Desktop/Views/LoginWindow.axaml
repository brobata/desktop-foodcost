<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:vm="using:Freecost.Desktop.ViewModels"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        mc:Ignorable="d" d:DesignWidth="550" d:DesignHeight="600"
        x:Class="Freecost.Desktop.Views.LoginWindow"
        x:DataType="vm:LoginViewModel"
        Title="Freecost - Sign In"
        Width="550" Height="600"
        MinWidth="500" MinHeight="550"
        WindowStartupLocation="CenterScreen"
        CanResize="false"
        Background="#F5F5F5">

	<Grid>
		<!-- Background gradient -->
		<Border Opacity="0.1">
			<Border.Background>
				<LinearGradientBrush StartPoint="0%,0%" EndPoint="100%,100%">
					<GradientStop Color="#667EEA" Offset="0"/>
					<GradientStop Color="#764BA2" Offset="1"/>
				</LinearGradientBrush>
			</Border.Background>
		</Border>

		<!-- Main content -->
		<ScrollViewer HorizontalScrollBarVisibility="Disabled"
		             VerticalScrollBarVisibility="Auto">
			<StackPanel Margin="60,40" Spacing="24" MaxWidth="380">

				<!-- Logo/App Name -->
				<StackPanel Spacing="8" HorizontalAlignment="Center">
					<TextBlock Text="ðŸ½ï¸"
					          FontSize="64"
					          HorizontalAlignment="Center"/>
					<TextBlock Text="Freecost"
					          FontSize="36"
					          FontWeight="Bold"
					          HorizontalAlignment="Center"
					          Foreground="#2D2D2D"/>
					<TextBlock Text="{Binding Title}"
					          FontSize="18"
					          HorizontalAlignment="Center"
					          Foreground="#666"
					          Margin="0,4,0,0"/>
				</StackPanel>

				<!-- Error message banner -->
				<Border IsVisible="{Binding ErrorMessage, Converter={x:Static ObjectConverters.IsNotNull}}"
				        Background="#FFEBEE"
				        BorderBrush="#EF5350"
				        BorderThickness="1"
				        CornerRadius="6"
				        Padding="12">
					<TextBlock Text="{Binding ErrorMessage}"
					          TextWrapping="Wrap"
					          Foreground="#C62828"
					          FontSize="13"/>
				</Border>

				<!-- Email field -->
				<StackPanel Spacing="8">
					<TextBlock Text="Email Address"
					          FontWeight="SemiBold"
					          Foreground="#2D2D2D"/>
					<TextBox Text="{Binding Email}"
					        Watermark="your.email@example.com"
					        Height="44"
					        Padding="12,0"
					        CornerRadius="6"
					        FontSize="14"/>
				</StackPanel>

				<!-- Password field -->
				<StackPanel Spacing="8">
					<TextBlock Text="Password"
					          FontWeight="SemiBold"
					          Foreground="#2D2D2D"/>
					<TextBox Text="{Binding Password}"
					        PasswordChar="*"
					        Watermark="Enter your password"
					        Height="44"
					        CornerRadius="6"
					        FontSize="14"/>
				</StackPanel>

				<!-- Remember checkboxes on same line -->
				<StackPanel Orientation="Horizontal" Spacing="24">
					<CheckBox IsChecked="{Binding RememberMe}"
					         Content="Remember email"/>
					<CheckBox IsChecked="{Binding RememberPassword}"
					         Content="Remember password"/>
				</StackPanel>

				<!-- Sign In/Sign Up button -->
				<Button Content="{Binding SubmitButtonText}"
				       Command="{Binding SubmitCommand}"
				       IsEnabled="{Binding !IsLoading}"
				       Background="#667EEA"
				       Foreground="White"
				       Height="48"
				       CornerRadius="6"
				       FontSize="16"
				       FontWeight="SemiBold"
				       HorizontalAlignment="Stretch"
				       HorizontalContentAlignment="Center">
					<Button.Styles>
						<Style Selector="Button:pointerover">
							<Setter Property="Background" Value="#5568D3"/>
						</Style>
						<Style Selector="Button:disabled">
							<Setter Property="Background" Value="#BDBDBD"/>
						</Style>
					</Button.Styles>
				</Button>

				<!-- Loading indicator -->
				<Border IsVisible="{Binding IsLoading}"
				       Background="#FFF3E0"
				       CornerRadius="6"
				       Padding="12">
					<StackPanel Orientation="Horizontal" Spacing="12" HorizontalAlignment="Center">
						<TextBlock Text="â³" FontSize="16"/>
						<TextBlock Text="Please wait..."
						          Foreground="#E65100"
						          FontSize="14"/>
					</StackPanel>
				</Border>

				<!-- Forgot password link -->
				<Button Content="Forgot password?"
				       Command="{Binding ForgotPasswordCommand}"
				       Background="Transparent"
				       Foreground="#667EEA"
				       FontSize="14"
				       HorizontalAlignment="Center"
				       Padding="8,4"
				       BorderThickness="0">
					<Button.Styles>
						<Style Selector="Button:pointerover">
							<Setter Property="Foreground" Value="#5568D3"/>
						</Style>
					</Button.Styles>
				</Button>

			</StackPanel>
		</ScrollViewer>
	</Grid>
</Window>
