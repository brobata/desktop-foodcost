<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:controls="clr-namespace:Dfc.Desktop.Controls"
             x:Class="Dfc.Desktop.Controls.NutritionalGoalsPanel"
             x:DataType="controls:NutritionalGoalsPanel">

	<Border Background="#F8F9FA"
	        BorderBrush="#E0E0E0"
	        BorderThickness="1"
	        CornerRadius="8"
	        Padding="16"
	        IsVisible="{Binding HasComparisons, RelativeSource={RelativeSource AncestorType=controls:NutritionalGoalsPanel}}">
		<StackPanel Spacing="12">
			<TextBlock Text="ðŸŽ¯ Nutritional Goals Progress"
			          FontWeight="SemiBold"
			          FontSize="15"
			          Foreground="#2D2D2D"/>

			<ItemsControl ItemsSource="{Binding Comparisons, RelativeSource={RelativeSource AncestorType=controls:NutritionalGoalsPanel}}">
				<ItemsControl.ItemTemplate>
					<DataTemplate>
						<StackPanel Spacing="4" Margin="0,4">
							<!-- Nutrient Name and Values -->
							<Grid ColumnDefinitions="*,Auto">
								<TextBlock Grid.Column="0"
								          Text="{Binding Nutrient}"
								          FontSize="13"
								          FontWeight="Medium"
								          Foreground="#4A4A4A"/>
								<StackPanel Grid.Column="1" Orientation="Horizontal" Spacing="4">
									<TextBlock Text="{Binding ActualValue, StringFormat='{}{0:F1}'}"
									          FontSize="13"
									          FontWeight="SemiBold"
									          Foreground="#2196F3"/>
									<TextBlock Text="/"
									          FontSize="13"
									          Foreground="#999"/>
									<TextBlock Text="{Binding TargetValue, StringFormat='{}{0:F1}'}"
									          FontSize="13"
									          Foreground="#666"/>
								</StackPanel>
							</Grid>

							<!-- Progress Bar (Simplified - no converters) -->
							<ProgressBar Value="{Binding PercentOfGoal}"
							            Minimum="0"
							            Maximum="150"
							            Height="8"
							            Foreground="#4CAF50"/>

							<!-- Percentage Display -->
							<TextBlock Text="{Binding PercentOfGoal, StringFormat='{}({0:F0}% of goal)'}"
							          FontSize="11"
							          Foreground="#999"
							          HorizontalAlignment="Right"/>
						</StackPanel>
					</DataTemplate>
				</ItemsControl.ItemTemplate>
			</ItemsControl>

			<TextBlock Text="ðŸ’¡ Goals based on your settings"
			          FontSize="11"
			          Foreground="#999"
			          FontStyle="Italic"
			          HorizontalAlignment="Center"
			          Margin="0,4,0,0"/>
		</StackPanel>
	</Border>

</UserControl>
